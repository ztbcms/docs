# 任务队列 Queue vs 计划任务 Cron 

### 同

均可以在php中的非用户http请求流程中执行一些耗时的任务


### 异

#### 执行时效：
Queue 支持『秒级』别的调度执行
Cron 支持『分钟』级别的调度执行

#### 调度触发
Queue 自带调度器，由自身实现
Cron 需要依赖其他软件来调度，如crontab

#### 并发控制：
Queue 可以预先设定开启多个队列，实现并行操作
Cron 无法预先设置并发数，并发由时间调度(crontab)进行控制

####  可靠性
- Queue 可以启动多个进程，可以平滑启动 重启
- Cron 一旦停了，部分时间点的计划任务无法执行，如果部分必须按时执行的任务，一旦停止，正确性得不到保证

#### 分布式支持
- Queue 无额外需要
- Cron 服务器时间需要统一


## 需求

- 确保必须且有且只能执行一次
