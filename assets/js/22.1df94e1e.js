(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{397:function(t,a,r){"use strict";r.r(a);var s=r(44),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"任务队列-queue-vs-计划任务-cron"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#任务队列-queue-vs-计划任务-cron"}},[t._v("#")]),t._v(" 任务队列 Queue vs 计划任务 Cron")]),t._v(" "),r("h3",{attrs:{id:"同"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#同"}},[t._v("#")]),t._v(" 同")]),t._v(" "),r("p",[t._v("均可以在php中的非用户http请求流程中执行一些耗时的任务")]),t._v(" "),r("h3",{attrs:{id:"异"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#异"}},[t._v("#")]),t._v(" 异")]),t._v(" "),r("h4",{attrs:{id:"执行时效"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#执行时效"}},[t._v("#")]),t._v(" 执行时效：")]),t._v(" "),r("p",[t._v("Queue 支持『秒级』别的调度执行\nCron 支持『分钟』级别的调度执行")]),t._v(" "),r("h4",{attrs:{id:"调度触发"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#调度触发"}},[t._v("#")]),t._v(" 调度触发")]),t._v(" "),r("p",[t._v("Queue 自带调度器，由自身实现\nCron 需要依赖其他软件来调度，如crontab")]),t._v(" "),r("h4",{attrs:{id:"并发控制"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#并发控制"}},[t._v("#")]),t._v(" 并发控制：")]),t._v(" "),r("p",[t._v("Queue 可以预先设定开启多个队列，实现并行操作\nCron 无法预先设置并发数，并发由时间调度(crontab)进行控制")]),t._v(" "),r("h4",{attrs:{id:"可靠性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#可靠性"}},[t._v("#")]),t._v(" 可靠性")]),t._v(" "),r("ul",[r("li",[t._v("Queue 可以启动多个进程，可以平滑启动 重启")]),t._v(" "),r("li",[t._v("Cron 一旦停了，部分时间点的计划任务无法执行，如果部分必须按时执行的任务，一旦停止，正确性得不到保证")])]),t._v(" "),r("h4",{attrs:{id:"分布式支持"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#分布式支持"}},[t._v("#")]),t._v(" 分布式支持")]),t._v(" "),r("ul",[r("li",[t._v("Queue 无额外需要")]),t._v(" "),r("li",[t._v("Cron 服务器时间需要统一")])]),t._v(" "),r("h2",{attrs:{id:"需求"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#需求"}},[t._v("#")]),t._v(" 需求")]),t._v(" "),r("ul",[r("li",[t._v("确保必须且有且只能执行一次")])])])}),[],!1,null,null,null);a.default=e.exports}}]);