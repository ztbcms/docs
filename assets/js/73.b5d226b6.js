(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{440:function(t,a,e){"use strict";e.r(a);var r=e(44),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"图表模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#图表模块"}},[t._v("#")]),t._v(" 图表模块")]),t._v(" "),e("h4",{attrs:{id:"额外参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#额外参数"}},[t._v("#")]),t._v(" 额外参数")]),t._v(" "),e("p",[t._v("本模块最后得到的图表链接一般是:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("http://xxxx/Chart/Api/getChart&token=a9a41bec8365599185c729e2047ae114\n")])])]),e("p",[t._v("如果需要你也可以增加一些额外的参数")]),t._v(" "),e("ul",[e("li",[t._v("size,  用于指定图表大小，格式 ：600 * 400（即，宽度 * 高度）或 "),e("code",[t._v("cover")]),t._v(" (铺满，即宽高都是100%)")])]),t._v(" "),e("h4",{attrs:{id:"关于补0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关于补0"}},[t._v("#")]),t._v(" 关于补0")]),t._v(" "),e("p",[t._v("「是否展示所有数据（补0）」这一选项的意思是是否显示数据为 0 的列。")]),t._v(" "),e("h4",{attrs:{id:"脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#脚本"}},[t._v("#")]),t._v(" 脚本")]),t._v(" "),e("p",[t._v("自定义脚本分两种，「X 轴自定义脚本」和「Y 轴自定义脚本」，分别继承基类 "),e("code",[t._v("Chart\\Lib\\BaseScriptX")]),t._v(" 和 "),e("code",[t._v("Chart\\Lib\\BaseScriptY")]),t._v("。")]),t._v(" "),e("p",[t._v("两者均需要实现 "),e("code",[t._v("run")]),t._v(" 方法，"),e("code",[t._v("run")]),t._v(" 方法应该返回一个以 "),e("code",[t._v(",")]),t._v(" 分隔的，"),e("strong",[t._v("有序的")]),t._v("，格式化字符串，格式如下：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('"北京,天津,河北,..........,香港"\n')])])]),e("p",[t._v("「X 轴自定义脚本」则需要多实现一个方法 "),e("code",[t._v("getField")]),t._v("，该方法返回 Y 轴所用的基准字段名，如上例中返回 「parent_id」。")]),t._v(" "),e("h4",{attrs:{id:"什么时候要用自定义脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么时候要用自定义脚本"}},[t._v("#")]),t._v(" 什么时候要用自定义脚本")]),t._v(" "),e("p",[t._v("当数据表内的原生字段无法直接作为统计字段时，举个例子：")]),t._v(" "),e("p",[t._v("例如我们需要统计各个省份里面有多少个市，但是我们的省市数据是分别存储在两个表内，通过字段映射关联关系。\n如下图示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/a03bcc9a-6014-4320-90b0-d98aea269a79.png",alt:"图片"}})]),t._v(" "),e("p",[t._v("显然我们基于 「parent_id」 去统计也能得到统计数据，但是 「parent_id」 具体指的是哪个省份？\n显然这是很不友好的阅读体验。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/df488350-fb8b-4c28-9f71-4128a99caef4.png",alt:"图片"}})]),t._v(" "),e("p",[t._v("这时候我们就需要一些操作去获取拥有友好阅读体验的「省份名称」,这就需要编写脚本来获取「parent_id」对应的省份名了。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/8d37e9eb-e3a4-4931-a417-5246f72bf6cb.png",alt:"图片"}})]),t._v(" "),e("p",[t._v("下面是示例代码："),e("a",{attrs:{href:"https://github.com/ztbcms/ztbcms-Chart/blob/develop/doc/GetProvince.class.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("脚本示例"),e("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=s.exports}}]);