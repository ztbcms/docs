(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{413:function(t,s,n){"use strict";n.r(s);var a=n(44),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("center",[n("h2",[t._v("模块开发")])]),t._v(" "),n("ul",[n("li",[t._v("模块的下载与安装")]),t._v(" "),n("li",[t._v("模块目录结构")]),t._v(" "),n("li",[t._v("如何编写模块")])]),t._v(" "),n("h4",{attrs:{id:"_1、模块的下载与安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、模块的下载与安装"}},[t._v("#")]),t._v(" 1、模块的下载与安装")]),t._v(" "),n("p",[t._v("首先，来看一下ZTBCMS的目录结构：")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/349dfec4-0853-47ec-95be-35f6825ceada.png",alt:"图片"}})]),t._v(" "),n("p",[t._v("如上图所示，红色方框内就是安装ZTBCMS之后，系统默认下载好的模块了，而开发的时候需要用到一些另外的模块，比如微信管理模块，短信模块等，这些就需要从ZTBCMS系统后台下载。")]),t._v(" "),n("h4",{attrs:{id:"模块的下载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模块的下载"}},[t._v("#")]),t._v(" 模块的下载：")]),t._v(" "),n("p",[t._v("进入后台，依次点击 模块->模块仓库，如下图所示：\n"),n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/99db96ff-1ae9-4713-a1b8-edab879ac480.png",alt:"图片"}})]),t._v(" "),n("blockquote",[n("p",[t._v("接着就列出来ZTBCMS系统已经开发好的一些模块了，如下图所示(由于模块数量比较多，就不全部罗列出来了)：\n"),n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/66b654f2-bdd6-42d9-a7ea-32c5534690cc.png",alt:"图片"}})])]),t._v(" "),n("p",[t._v("接下来模块下载就是很简单的一步了，比如拿下载微信管理模块作为例子：")]),t._v(" "),n("p",[t._v("首先找到微信管理模块，可以看到微信模块后面说明了这个模块的作用和版本等，一般选择最新的一个版本，点击“下载”。")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/88dfc9fe-95b5-4dea-aab4-da567561e4ab.png",alt:"图片"}})]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/04ad8af9-0875-49c4-981a-79ac4273d3a5.png",alt:"图片"}})]),t._v(" "),n("p",[t._v("下载完成之后，然后将它解压至ZTBCMS的app->Application模块目录下，可以对它重新命名。\n"),n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/61fa4476-8674-47f0-b293-0a67e7cf8159.png",alt:"图片"}})]),t._v(" "),n("p",[t._v("接着进入系统后台，依次点击 模块->本地模块，就可以看到新下载的模块了。\n"),n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/c1b63546-93e4-4e52-8176-fe26c16e30b1.png",alt:"图片"}})]),t._v(" "),n("h4",{attrs:{id:"模块的安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模块的安装"}},[t._v("#")]),t._v(" 模块的安装：")]),t._v(" "),n("p",[t._v("这个样子还需要最后一步了，就是点击“安装”，安装完之后就可以在框架中使用了。 "),n("br"),t._v("\n其他模块在这里就可以使用了，但是“微信管理”模块的安装还需要在本地模块中安装“会员中心“模块，如下图所示：\n"),n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/568986ad-97bc-4718-a906-866139aa0761.png",alt:"图片"}})]),t._v(" "),n("p",[t._v("安装完“会员中心模块“之后，接着就可以安装”微信管理“模块了。\n"),n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/b02d74d6-8dbe-416e-832e-49e03666cb38.png",alt:"图片"}})]),t._v(" "),n("p",[t._v("接着看一下ZTBCMS的目录结构，如下所示(红色方框就是微信管理模块)：\n"),n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/8fc1e459-aa82-47d3-97b9-d49a8f90818f.png",alt:"图片"}})]),t._v(" "),n("h3",{attrs:{id:"_2、制作模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、制作模块"}},[t._v("#")]),t._v(" 2、制作模块")]),t._v(" "),n("p",[t._v("首先先了解一下模块的基本目录结构:")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/38beccd2-4c19-4d53-b76e-8e182aed6966.png",alt:"图片"}})]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Behavior 是行为扩展目录 \nBehavior 是行为扩展参数目录 \nCommon 是自定义函数目录 \nConf 是该模块相关配置目录 \nController 是控制器目录 \nInstall 是模块安装文件目录\nModel 是模块所拥有的模型存放目录 \nUninstall 是模块卸载程序目录 \nView 是模块视图模板目录\nConfig.inc.php 是模块配置文件 \n")])])]),n("blockquote",[n("p",[t._v("以上就是一个模块的比较齐全的目录了，但是在开发的时候，Config.inc.php模块配置文件和Controller控制器目录是必须的，其他目录视情况而定。")])]),t._v(" "),n("h5",{attrs:{id:"配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件：")]),t._v(" "),n("p",[t._v("每个模块目录里，都有一个Config.inc.php配置文件，这里讲解下这个配置文件如何使用：")]),t._v(" "),n("div",{staticClass:"language-php extra-class"},[n("pre",{pre:!0,attrs:{class:"language-php"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//模块名称")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'modulename'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'会员中心'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//图标")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'icon'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'https://dn-coding-net-production-pp.qbox.me/e57af720-f26c-4f3b-90b9-88241b680b7b.png'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//模块简介")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'introduce'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'会员中心'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//模块介绍地址")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'address'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'http://www.ztbcms.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//模块作者")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'author'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'ZTBCMS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//作者地址")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'authorsite'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'http://www.ztbcms.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//作者邮箱")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'authoremail'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'admin@ztbcms.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//版本号，请不要带除数字外的其他字符")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'version'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'1.0.2.0'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//适配最低版本，")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'adaptation'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'3.0.0.0'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//签名")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'sign'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'05f78872791fe1847815f5a192aa6dce'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//依赖模块")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'depend'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//注册缓存")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'cache'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//行为")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'tags'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("上面就是模块配置文件的基本格式了。需要注意的是sign签名可以使用MD5加密技术对模块名称进行加密，然后将加密后的字符赋值给sign签名。")])]),t._v(" "),n("blockquote",[n("p",[t._v("在ZTBCMS中，创建好这个配置文件之后，依次点击模块->本地模块，就可以看到新创建的模块了，如下例子是创建了一个名为“测试所用”的MyTest模块。\n"),n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/09b3f39e-93f2-4301-b1a6-27fb74eafa42.png",alt:"图片"}})])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://dn-coding-net-production-pp.qbox.me/79f1ddaa-cfdc-42fc-af94-6c8cd8a3d310.png",alt:"图片"}})]),t._v(" "),n("blockquote",[n("p",[t._v("点击“安装”之后，系统就可以使用这一个新创建的模块了。")])])],1)}),[],!1,null,null,null);s.default=e.exports}}]);